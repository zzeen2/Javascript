<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // promise 객체 생성 ----------------------------------------
    const a = 1;
    // promise가 생성되면 초기상태는 대기(pendding)
    const promise = new Promise((res, rej)=> {
        if ( a ===1 ){
            res("성공")
        }
    })
    // fetch()를 이용한 데이터 요청 ---------------------------------
    const data = fetch('https://jsonplaceholder.typicode.com/posts/1') // fetch()는 비동기적으로 데이터를 가져오는 함수
    // 이 함수 호출 즉시 data 변수에는 Promise 객체가 저장됨(실제 데이터가 아님)
    console.log(data); //  때문에 console.log가 실행되면 promise 객체(pendding 상태)가 출력됨

    // fetch()결과 처리 (.then()사용)---------------------------------
    data.then((result)=>{ // .then을 사용하여 응답 처리
       
        result.json().then((result)=> { // result.json() → 응답을 JSON 형식으로 변환 (또 다른 Promise 반환) //다시 .then()을 사용하여 변환된 JSON 데이터 출력
        
            console.log(result);
        });
    });

    
    // 대기 상태가 끝나지 않으면 값이 정상적이지 않고 사용할 수 없다.
    // promise 처리 -------------------------------------------
    promise.then((result)=>{ //promise가 성공되었을때 실행될 코드 // 이미 fulfilled(성공)상태가 되었으므로 실행됨
        console.log(promise)
        console.log(result)

    })
</script>
</html>